### 几种主流的对比

| 评价纬度  | zcs.zookeeper |  etcd | consul | eureka | nacos
|:-----|-----:|:-----:|:-----:|:-----:|:-----:|
|cap模型 |  cp  |   cp  | cp | ap |  |
|数据一致性算法 |  zab  |   raft  | raft | x | a |
|多数据中心 |  x  |   x  | 支持 | x | a |
|多语言支持 |  客户端  |   http/rpc  | http/dns | x | a |
|watch |  tcp  |   长轮询(拉) | 长轮询(拉) | 长轮询(拉) | a |
|kv存储 |  支持  |   支持  | 支持 | x | a |
|服务健康检查 |  心跳  |   心跳  |服务状态，内存，硬盘等 | 自定义 | a |
|自身监控 |  x  |   metrics  | metrics | metrics | a |
|springCloud支持 |  支持  |   支持  | 支持 | 支持 | a |
|自身语言开发 |  java  |   go  | go | java | a |


#### cap模型
* consistence
* availability
* partition tolerance (由于网络的原因， p是必须的)


### 多数据中心(多机房)
* zookeeper不支持，一旦出现网络划分，服务就不可用了
* 只有consul支持，通过gossip协议实现； gossip协议是去中心化的，所有节点对等，节点无需知道整个网络情况


### 数据一致性
* zab原子广播协议，基于paxos算法改的
* raft协议是工程上使用较为广泛的强一致性、去中心化、高可用的

- [paxos]()
- [raft]()

### 多语言支持
DNS 方式允许应用程序使用服务发现，而无需与Consul进行任何高度集成。

例如，不需要向 Consul 发送 HTTP 请求，可以使用 DNS 服务器直接通过名字查找，如 redis.service.us-east-1.consul，就会自动转查找位于 us-east-1 这个数据中心提供 redis 服务的节点。
使用DNS的方式可以在程序中集成一个DNS解析库，也可以自定义本地的DNS Server。
自定义本地 DNS Server 是指将 .consul域的请求全部转发到 Consul Agent。


###服务健康检查
* 心跳方式比较简单，客户端上报自己的存活状态即可， 但存活不代表健康，例如服务层没问题，但数据库连接故障
* 


####
<a name="paxos"/>