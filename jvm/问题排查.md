### 死锁问题
1.使用jps -l 命令，查看当前jvm虚拟机上所跑的程序  
2.jstack -l PID  

### cpu 100% 排查
1.使用top命令查看cpu高的程序  
2.使用 top -H -p PID 查看程序中cpu高的线程
3.jstack -l 线程id

### 引用  强> 软> 弱  >虚
- 软引用
   在jvm内存不足时才会回收
- 弱引用
   在jvm进行垃圾回收时就会回收
   
SoftReference<String> softRef=new SoftReference<String>(str);软引用可用来实现内存敏感的高速缓存。 
WeakReference<String> abcWeakRef = new WeakReference<String>(str);

### 常用的命令
- jstat 实时显示jvm进程中的各种情况
     命令格式：
        jstat -gcutil pid timesInterval showCounts 显示gc相关信息百分比
        
- jstack 线程快照，显示线程正在执行的方法,可定位长时间停顿的原因，或线程死锁，cpu过高等。
     命令格式:jstack [option] pid (-F:force, -l:lock信息)
     
- jmap 显示堆和永久代的详细信息
     - 常用命令
       jmap -heap pid  显示堆信息
       jmap -dump:live,format=b,file=m.hprof PID    下载文件
       
### 导出异常内存文件 dump
- 内存溢出时让其自动生成： 配置jvm参数-XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/home/biapp/m.hprof
- 直接导文件: jmap -dump:live,format=b,file=m.hprof PID
